<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>Swell - Device Detail</title>
    <link rel="stylesheet" href="swell-styles.css">
</head>

<body>
    <!-- Device Detail Page -->
    <div class="container" id="detail-page">
        <div class="stars" id="stars"></div>

        <!-- Header with back button, RTC time, and spacer for alignment -->
        <div class="detail-header">
            <a href="swell-homepage.html" class="back-link">
                <div class="back-button">‚Üê</div>
            </a>

            <!-- Compact RTC Time Display -->
            <div class="rtc-time-display">
                <div class="rtc-time-value" id="rtc-time-value">--:--:--</div>
            </div>

            <!-- Spacer for alignment -->
            <div class="detail-header-spacer"></div>
        </div>

        <div class="device-card">
            <div class="device-icon">
                <img src="logo.png" alt="Lamp" class="device-img">
            </div>
            <div class="device-info">
                <div class="device-name">This device is Off</div>
                <div class="device-status">Not connected</div>
            </div>
        </div>

        <div class="feature-section">
            <h2 class="feature-title">Features</h2>

            <!-- Timer Feature Card - Must be configured first -->
            <div class="feature-card collapsible primary-feature" id="timer-card">
                <div class="feature-left">
                    <div class="feature-icon">‚è∞</div>
                    <div><span class="bold">Timer</span>: <span id="timer-status">OFF</span></div>
                </div>
                <div class="toggle" id="timer-toggle">
                    <div class="toggle-slider"></div>
                </div>
            </div>

            <!-- Timer expanded controls -->
            <div class="expanded-controls" id="timer-controls">
                <div class="timer-notification">
                </div>
                <div class="control-group">
                    <div class="timer-controls">
                        <div class="time-input-group">
                            <label for="start-time">Start Time:</label>
                            <input type="time" id="start-time" class="time-input" value="22:00">
                        </div>
                        <div class="time-input-group">
                            <label for="end-time">End Time:</label>
                            <input type="time" id="end-time" class="time-input" value="06:00">
                        </div>
                    </div>
                </div>

                <!-- Timer Confirm Button -->
                <div class="confirm-button-wrapper">
                    <button id="timer-confirm-button" class="confirm-button">Konfirmasi Timer</button>
                </div>

                <!-- RTC Calibration Section -->
                <div class="rtc-calibration-section">
                    <div class="rtc-sync-info">
                        <div class="control-label">üïê RTC Calibration</div>
                        <div class="rtc-comparison">
                            <div class="time-comparison-row">
                                <span class="time-label">Browser Time:</span>
                                <span class="time-value" id="browser-time">--:--:--</span>
                            </div>
                            <div class="time-comparison-row">
                                <span class="time-label">RTC Time:</span>
                                <span class="time-value" id="rtc-time-comparison">--:--:--</span>
                            </div>
                        </div>
                    </div>
                    <div class="confirm-button-wrapper">
                        <button id="rtc-calibrate-button" class="calibrate-button">
                            Calibrate RTC
                        </button>
                    </div>
                    <div class="rtc-calibration-status" id="rtc-calibration-status">
                        <div class="calibration-message" id="calibration-message"></div>
                    </div>
                </div>
            </div>

            <!-- Night Lights Feature Card -->
            <div class="feature-card collapsible feature-dependent" id="light-card">
                <div class="feature-left">
                    <div class="feature-icon">üåô</div>
                    <div><span class="bold">Night Lights</span><br></div>
                </div>
                <div class="dependency-notice">Enable timer first</div>
            </div>
            <!-- Expanded light controls -->
            <div class="expanded-controls" id="light-controls">
                <div class="control-group">
                    <label for="intensity-slider" class="control-label">Yellow Light Intensity:</label>
                    <div class="volume-control-wrapper">
                        <input type="range" id="intensity-slider" min="0" max="100" value="50" step="10"
                            class="volume-slider">
                        <span class="intensity-value">50%</span>
                    </div>
                </div>
                <div class="slider-steps">
                    <span class="step-label">0%</span>
                    <span class="step-label">20%</span>
                    <span class="step-label">40%</span>
                    <span class="step-label">60%</span>
                    <span class="step-label">80%</span>
                    <span class="step-label">100%</span>
                </div>
            </div>

            <!-- ‚≠ê FIXED: Aromatherapy Feature Card dengan status yang menunjukkan user setting vs execution -->
            <div class="feature-card feature-dependent">
                <div class="feature-left">
                    <div class="feature-icon">üí®</div>
                    <div>
                        <span class="bold">Aromatherapy</span>: <span id="aroma-status">OFF</span><br>
                    </div>
                </div>
                <div class="toggle dependent-disabled" id="aroma-toggle">
                    <div class="toggle-slider"></div>
                </div>
                <div class="dependency-notice">Enable timer first</div>
            </div>

            <!-- ‚≠ê FIXED: Alarm Feature Card dengan status yang menunjukkan user setting -->
            <div class="feature-card feature-dependent">
                <div class="feature-left">
                    <div class="feature-icon">üîî</div>
                    <div>
                        <span class="bold">Alarm</span>: <span id="alarm-status">OFF</span><br>
                    </div>
                </div>
                <div class="toggle dependent-disabled" id="alarm-toggle">
                    <div class="toggle-slider"></div>
                </div>
                <div class="dependency-notice">Enable timer first</div>
            </div>

            <!-- ‚≠ê FIXED: Relax Music Feature Card dengan status yang menunjukkan user setting vs execution -->
            <div class="feature-card collapsible feature-dependent" id="music-card">
                <div class="feature-left">
                    <div class="feature-icon">üéµ</div>
                    <div>
                        <span class="bold">Relax Music</span>: <span id="music-status">OFF</span><br>
                    </div>
                </div>
                <div class="toggle dependent-disabled" id="music-toggle">
                    <div class="toggle-slider"></div>
                </div>
                <div class="dependency-notice">Enable timer first</div>
            </div>

            <!-- Expanded music controls -->
            <div class="expanded-controls" id="music-controls">
                <div class="control-group">
                    <label for="song-select" class="control-label">Select Nature Sound:</label>
                    <select id="song-select" class="song-dropdown">
                        <option value="1">AYAT KURSI</option>
                        <option value="2">FAN</option>
                        <option value="3">FROG</option>
                        <option value="4">OCEAN WAVES</option>
                        <option value="6">RAINDROP</option>
                        <option value="7">RIVER</option>
                        <option value="8">VACUUM CLEANER</option>
                    </select>
                </div>

                <div class="control-group">
                    <label for="volume-slider" class="control-label">Volume:</label>
                    <div class="volume-control-wrapper">
                        <input type="range" id="volume-slider" min="0" max="100" value="50" step="10"
                            class="volume-slider">
                        <span class="volume-value">50%</span>
                    </div>
                </div>
                <!-- Volume step indicators -->
                <div class="slider-steps">
                    <span class="step-label">0%</span>
                    <span class="step-label">20%</span>
                    <span class="step-label">40%</span>
                    <span class="step-label">60%</span>
                    <span class="step-label">80%</span>
                    <span class="step-label">100%</span>
                </div>
            </div>
        </div>
    </div>

    <!-- ‚≠ê FIXED: Real device functionality dengan user settings separation -->
    <script src="swell-script.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            if (document.getElementById('detail-page')) {
            }
        });
    </script>
</body>

</html>